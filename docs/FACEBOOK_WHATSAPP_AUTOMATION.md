# Facebook Scraper + WhatsApp Automation

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –≤–µ–Ω–¥–æ—Ä–æ–≤ –≤ Facebook –≥—Ä—É–ø–ø–∞—Ö –∏ –æ–±—â–µ–Ω–∏—è —Å –Ω–∏–º–∏ —á–µ—Ä–µ–∑ WhatsApp Business.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Facebook Groups ‚Üí Playwright Scraper ‚Üí Supabase ‚Üí OpenClaw ‚Üí WhatsApp Business
```

## –ß–∞—Å—Ç—å 1: Facebook Scraper (Playwright)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install playwright @supabase/supabase-js dotenv
npx playwright install chromium
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –û—Ç–∫—Ä–æ–π `.env.local` –∏ –∑–∞–ø–æ–ª–Ω–∏:

```bash
FACEBOOK_EMAIL=—Ç–≤–æ–π_email@example.com
FACEBOOK_PASSWORD=—Ç–≤–æ–π_–ø–∞—Ä–æ–ª—å
```

2. –í `scripts/facebook-scraper.mjs` –¥–æ–±–∞–≤—å URL –≥—Ä—É–ø–ø:

```javascript
const TARGET_GROUPS = [
    'https://www.facebook.com/groups/israel_photographers',
    'https://www.facebook.com/groups/event_professionals_il',
    // –¥–æ–±–∞–≤—å —Å–≤–æ–∏ –≥—Ä—É–ø–ø—ã
];
```

### –ó–∞–ø—É—Å–∫

```bash
node scripts/facebook-scraper.mjs
```

–°–∫—Ä–∏–ø—Ç:
- –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—Å—è –≤ Facebook
- –ü—Ä–æ–π–¥–µ—Ç—Å—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –≥—Ä—É–ø–ø–∞–º
- –ù–∞–π–¥–µ—Ç –ø–æ—Å—Ç—ã —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤ (05X-XXXXXXX)
- –°–æ—Ö—Ä–∞–Ω–∏—Ç –≤ `pending_vendors` —Ç–∞–±–ª–∏—Ü—É Supabase

## –ß–∞—Å—Ç—å 2: WhatsApp Automation (OpenClaw)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

OpenClaw —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –¢–µ–ø–µ—Ä—å –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å WhatsApp Business

```bash
openclaw channels login
```

–í—ã–±–µ—Ä–∏ WhatsApp –∏ –æ—Ç—Å–∫–∞–Ω–∏—Ä—É–π QR –∫–æ–¥.

### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `~/.openclaw/system-prompt.txt`:

```
–¢—ã - –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –∫–æ–º–ø–∞–Ω–∏–∏ Talentr, –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –ø–æ–∏—Å–∫–∞ event-–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ –≤ –ò–∑—Ä–∞–∏–ª–µ.

–¢–≤–æ—è –∑–∞–¥–∞—á–∞:
1. –ü–æ–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤–µ–Ω–¥–æ—Ä–∞
2. –†–∞—Å—Å–∫–∞–∑–∞—Ç—å –æ Talentr (talentr.co.il)
3. –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

–¢–æ–Ω: –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π
–Ø–∑—ã–∫: –∏–≤—Ä–∏—Ç (–µ—Å–ª–∏ —Å–æ–±–µ—Å–µ–¥–Ω–∏–∫ –ø–∏—à–µ—Ç –Ω–∞ –∏–≤—Ä–∏—Ç–µ) –∏–ª–∏ —Ä—É—Å—Å–∫–∏–π

–ü—Ä–∏–º–µ—Ä:
"–ü—Ä–∏–≤–µ—Ç! üëã –Ø –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é Talentr - –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è event-–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ –≤ –ò–∑—Ä–∞–∏–ª–µ. 
–ú—ã –ø–æ–º–æ–≥–∞–µ–º —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∞–º, –≤–µ–¥—É—â–∏–º, –º—É–∑—ã–∫–∞–Ω—Ç–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–æ–≤.
–•–æ—Ç–∏—Ç–µ —Å–æ–∑–¥–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å? –≠—Ç–æ –∑–∞–π–º–µ—Ç 2 –º–∏–Ω—É—Ç—ã: https://talentr.co.il/onboarding"
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã

```bash
openclaw config set agent.systemPrompt "$(cat ~/.openclaw/system-prompt.txt)"
openclaw config set agent.autoReply true
```

### 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å Gateway

```bash
openclaw gateway
```

–¢–µ–ø–µ—Ä—å OpenClaw –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ WhatsApp Business.

## Workflow

1. **–ü–∞—Ä—Å–∏–Ω–≥** (—Ä–∞–∑ –≤ –¥–µ–Ω—å):
   ```bash
   node scripts/facebook-scraper.mjs
   ```

2. **–†—É—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞** (–∏–∑ –∞–¥–º–∏–Ω–∫–∏):
   - –ó–∞—Ö–æ–¥–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å Talentr
   - –í–∫–ª–∞–¥–∫–∞ "Pending"
   - –í—ã–±–µ—Ä–∏ –≤–µ–Ω–¥–æ—Ä–∞
   - –ù–∞–∂–º–∏ "Send" ‚Üí WhatsApp
   - OpenClaw –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ

3. **–ê–≤—Ç–æ–æ—Ç–≤–µ—Ç—ã**:
   - –ö–æ–≥–¥–∞ –≤–µ–Ω–¥–æ—Ä –æ—Ç–≤–µ—Ç–∏—Ç, OpenClaw –ø—Ä–æ–¥–æ–ª–∂–∏—Ç –¥–∏–∞–ª–æ–≥
   - –û—Ç–ø—Ä–∞–≤–∏—Ç —Å—Å—ã–ª–∫—É –Ω–∞ onboarding
   - –û—Ç–≤–µ—Ç–∏—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –°—Ç–∞—Ç—É—Å –∫–∞–Ω–∞–ª–æ–≤
openclaw status

# –õ–æ–≥–∏
openclaw logs

# –ó–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã
openclaw doctor
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–∞–∂–Ω–æ:**
- –ù–µ –∫–æ–º–º–∏—Ç—å `.env.local` –≤ Git
- –ò—Å–ø–æ–ª—å–∑—É–π —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
- –í–∫–ª—é—á–∏ 2FA –Ω–∞ Facebook
- –û–≥—Ä–∞–Ω–∏—á—å –¥–æ—Å—Ç—É–ø –∫ OpenClaw —á–µ—Ä–µ–∑ `openclaw security audit`

## Troubleshooting

### Facebook –±–ª–æ–∫–∏—Ä—É–µ—Ç –ª–æ–≥–∏–Ω
- –ò—Å–ø–æ–ª—å–∑—É–π cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞ (—Å–º. Playwright docs)
- –î–æ–±–∞–≤—å –∑–∞–¥–µ—Ä–∂–∫–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π headless: false –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞

### OpenClaw –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
openclaw doctor --fix
openclaw gateway --force
```

### –ù–æ–º–µ—Ä–∞ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º–∞—Ç –Ω–æ–º–µ—Ä–∞ (05X-XXXXXXX)
- –ü—Ä–æ–≤–µ—Ä—å RLS policies –≤ Supabase
- –ü–æ—Å–º–æ—Ç—Ä–∏ –ª–æ–≥–∏: `tail -f ~/.openclaw/logs/gateway.log`
